Система для загрузки и обработки аудиофайлов с использованием Laravel и Docker. Этот проект представляет собой систему для загрузки и обработки аудиофайлов с использованием Laravel и Docker. С помощью этого приложения можно загружать аудиофайлы, обрабатывать их с использованием **FFmpeg**.

Шаги по развертыванию проекта

1. Установка FFmpeg

Для корректной работы с аудиофайлами необходимо установить **FFmpeg** на ваше устройство.

Установка на Linux (Ubuntu/Debian):
bash
sudo apt update
sudo apt install ffmpeg

Установка на macOS с помощью Homebrew:
brew install ffmpeg

Установка на Windows:

Скачайте FFmpeg с официального сайта.
Распакуйте архив и добавьте путь к ffmpeg/bin в системную переменную PATH.
Проверьте, что FFmpeg установлен правильно, выполнив команду:

ffmpeg -version

2. Дать разрешение FFmpeg для редактирования директории local
Для правильной работы FFmpeg с аудиофайлами, особенно если приложение записывает обработанные файлы в директорию local, необходимо предоставить соответствующие разрешения для записи в эту директорию.

На Linux или macOS, выполните следующую команду, чтобы дать права на запись в директорию:

chmod -R 775 storage
Убедитесь, что у вашего пользователя есть разрешение на запись в директорию, где будут храниться обработанные файлы.


3. Клонирование репозитория
Скопируйте репозиторий на ваш локальный компьютер:

git clone https://github.com/aman-romanov/audio-api.git
cd your-repository


4. Установка зависимостей
Убедитесь, что у вас установлен Composer для работы с зависимостями Laravel. Затем выполните следующие команды:

composer install
Это установит все необходимые зависимости для проекта.

5. Настройка .env файла

Скопируйте .env.example в файл .env:
cp .env.example .env
Откройте файл .env и настройте параметры для подключения к базе данных, используя данные из вашего docker-compose.yml файла. Например:
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=your_database
DB_USERNAME=root
DB_PASSWORD=root_password

Убедитесь, что параметры для подключения к FFmpeg правильно настроены:

FFMPEG_BIN=/usr/bin/ffmpeg
FFPROBE_BIN=/usr/bin/ffprobe


6. Запуск Docker контейнеров
Теперь вы можете запустить контейнеры с помощью Docker:

docker-compose up -d --build
Эта команда создаст и запустит все необходимые контейнеры для приложения, включая базу данных и сервисы.

7. Миграции базы данных
После запуска контейнеров выполните миграции базы данных:

docker-compose exec app php artisan migrate

8. Настройка Swagger
Для просмотра документации API с помощью Swagger, вам нужно будет подключиться к Swagger UI. Документация будет доступна по адресу:

http://localhost:8081/api/documentation
Swagger UI предоставляет удобный интерфейс для взаимодействия с API и просмотра всех доступных эндпоинтов.